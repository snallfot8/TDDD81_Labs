-- Droppar Tabeller, i ordning med BryanAir.SQL
SET FOREIGN_KEY_CHECKS=0;
DROP TABLE IF EXISTS person CASCADE;
DROP TABLE IF EXISTS passenger CASCADE;
DROP TABLE IF EXISTS creditcard_holder CASCADE;
DROP TABLE IF EXISTS reservation  CASCADE;
DROP TABLE IF EXISTS contact_person CASCADE;
DROP TABLE IF EXISTS included_in_reservation CASCADE;
DROP TABLE IF EXISTS booking_confirmed CASCADE;
DROP TABLE IF EXISTS payed_by CASCADE;
DROP TABLE IF EXISTS profit_factor CASCADE;
DROP TABLE IF EXISTS calculate_seat_price CASCADE;
DROP TABLE IF EXISTS flight CASCADE;
DROP TABLE IF EXISTS weekly_schedule CASCADE;
DROP TABLE IF EXISTS scheduled CASCADE;
DROP TABLE IF EXISTS flies CASCADE;
DROP TABLE IF EXISTS destination CASCADE;
DROP TABLE IF EXISTS route CASCADE;
DROP TABLE IF EXISTS weekday_factor CASCADE;
DROP TABLE IF EXISTS retrieve_weekday_factor CASCADE;
DROP TABLE IF EXISTS payment CASCADE;
DROP VIEW IF EXISTS allFlights;

-- Droppar Procedures och Functions, i ordning med BryanAir.SQL
DROP PROCEDURE IF EXISTS addYear;
DROP PROCEDURE IF EXISTS addDay;
DROP PROCEDURE IF EXISTS addDestination;
DROP PROCEDURE IF EXISTS addRoute;
DROP PROCEDURE IF EXISTS addFlight;
DROP PROCEDURE IF EXISTS addReservation;
DROP PROCEDURE IF EXISTS addPassenger;
DROP PROCEDURE IF EXISTS addContact;
DROP PROCEDURE IF EXISTS addPayment;


DROP FUNCTION IF EXISTS calculateFreeSeats;
DROP FUNCTION IF EXISTS calculatePrice;

DROP TRIGGER IF EXISTS createTicketNumber;

SET FOREIGN_KEY_CHECKS=1;




